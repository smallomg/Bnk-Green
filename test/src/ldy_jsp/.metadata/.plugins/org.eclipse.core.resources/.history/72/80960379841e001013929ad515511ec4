<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@page import="java.sql.ResultSet"%>
<%@page import="java.sql.Statement"%>
<%@page import="java.sql.DriverManager"%>
<%@page import="java.sql.Connection"%>
<%@page import="java.sql.PreparedStatement"%>
<%@page import="java.sql.SQLException"%>
<!DOCTYPE html>
<%
String title = request.getParameter("title");
String content = request.getParameter("content");
String writer = request.getParameter("writer");

System.out.println(title);
System.out.println(content);
System.out.println(writer);

Class.forName("oracle.jdbc.driver.OracleDriver");
Connection conn = DriverManager.getConnection(
	"jdbc:oracle:thin:@localhost:1521:testdb",
	"green",
	"1234"
);

// ì¿¼ë¦¬ ìˆ˜ì • (ì‰¼í‘œ ì¶”ê°€)
String query = "INSERT INTO tbl_board VALUES(seq_board.nextval, ?, ?, ?, SYSDATE)";
PreparedStatement pstmt = conn.prepareStatement(query);
pstmt.setString(1, title);
pstmt.setString(2, content);
pstmt.setString(3, writer);

// ðŸ‘‰ ì‹¤í–‰ ì¶”ê°€!
pstmt.executeUpdate();

// ìžì› ì •ë¦¬
pstmt.close();
conn.close();

// íŽ˜ì´ì§€ ì´ë™
response.sendRedirect("index.jsp");
%>
